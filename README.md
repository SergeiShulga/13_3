### 13_3 «Защита сети» - "Сергей Шульга"

Подготовка к выполнению заданий

Подготовка защищаемой системы:

установите Suricata,

установите Fail2Ban.

Подготовка системы злоумышленника: установите nmap и thc-hydra либо скачайте и установите Kali linux.

Обе системы должны находится в одной подсети.

### Задание 1
Проведите разведку системы и определите, какие сетевые службы запущены на защищаемой системе:

sudo nmap -sA 10.10.10.1 

используется для выполнения сканирования с использованием TCP флага ACK (Acknowledgment). Этот флаг обычно используется для проверки фильтрации пакетов на сетевом уровне. Он может также использоваться для определения состояния порта (открыт, закрыт или фильтруется).

-sA  -  параметр указывает nmap на использование сканирования с флагом ACK. Флаг ACK используется для отправки пакетов с установленным битом подтверждения (ACK). Это может быть полезно для обхода некоторых сетевых устройств, таких как фильтры пакетов, и проверки их реакции на такие пакеты.

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/001.png)

sudo nmap -sT 10.10.10.1 

используется для выполнения сканирования портов с использованием TCP-соединений (TCP-сканирование) с привилегиями суперпользователя. 
-sT - параметр указывает на использование TCP-сканирования. TCP-сканирование включает в себя попытки установки TCP-соединений с целевыми узлами для определения, открыты ли определенные порты. Это один из наиболее распространенных типов сканирования.

Таким образом, команда sudo nmap -sT выполнит сканирование открытых портов на целевом узле с использованием TCP-соединений и запросит привилегии суперпользователя для выполнения этих действий.

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/002.png)

sudo nmap -sS 10.10.10.1

sudo nmap -sS выполняет сканирование открытых портов на целевом хосте с использованием TCP SYN сканирования, предоставляя информацию о доступных сервисах и службах. 

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/003.png)

sudo nmap -sV 10.10.10.1

sudo nmap -sV выполняет сканирование сети для определения версий служб на открытых портах.

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/004.png)


### Задание 2
Проведите атаку на подбор пароля для службы SSH:

hydra -L users.txt -P pass.txt < ip-адрес > ssh

Настройка hydra:

создайте два файла: users.txt и pass.txt;

в каждой строчке первого файла должны быть имена пользователей, второго — пароли. В нашем случае это могут быть случайные строки, но ради эксперимента можете добавить имя и пароль существующего пользователя.

Дополнительная информация по hydra: https://kali.tools/?p=1847.

Включение защиты SSH для Fail2Ban:

открыть файл /etc/fail2ban/jail.conf,

найти секцию ssh,

установить enabled в true.

Дополнительная информация по Fail2Ban:https://putty.org.ru/articles/fail2ban-ssh.html.

В качестве ответа пришлите события, которые попали в логи Suricata и Fail2Ban, прокомментируйте результат.

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/2023-12-04_14-36-23.png)
