### 13_3 «Защита сети» - "Сергей Шульга"

### Задание 1
Проведите разведку системы и определите, какие сетевые службы запущены на защищаемой системе:

sudo nmap -sA 10.10.10.1 

-sA  -  параметр указывает nmap на использование сканирования с флагом ACK. Флаг ACK используется для отправки пакетов с установленным битом подтверждения (ACK). Это может быть полезно для обхода некоторых сетевых устройств, таких как фильтры пакетов, и проверки их реакции на такие пакеты.

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/001.png)

sudo nmap -sT 10.10.10.1 

используется для выполнения сканирования портов с использованием TCP-соединений (TCP-сканирование) с привилегиями суперпользователя. 
-sT - параметр указывает на использование TCP-сканирования. TCP-сканирование включает в себя попытки установки TCP-соединений с целевыми узлами для определения, открыты ли определенные порты. Это один из наиболее распространенных типов сканирования.

Таким образом, команда sudo nmap -sT выполнит сканирование открытых портов на целевом узле с использованием TCP-соединений и запросит привилегии суперпользователя для выполнения этих действий.

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/002.png)

sudo nmap -sS 10.10.10.1

sudo nmap -sS выполняет сканирование открытых портов на целевом хосте с использованием TCP SYN сканирования, предоставляя информацию о доступных сервисах и службах. 

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/003.png)

sudo nmap -sV 10.10.10.1

sudo nmap -sV выполняет сканирование сети для определения версий служб на открытых портах.

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/004.png)

При использовании запроса с ключом -sA Suricata не сработала, в остальных случаях лог Suricata выдает, что происходило подозрительное скарирование и классификация идет как "Потенциально опасный трафик" и "Возможна утечка информации".

В лог файлах Fail2Ban ни какой активности не выявлено.

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/005.png)



### Задание 2
Проведите атаку на подбор пароля для службы SSH:

hydra -L users.txt -P pass.txt < ip-адрес > ssh

Настройка hydra:

создайте два файла: users.txt и pass.txt;

в каждой строчке первого файла должны быть имена пользователей, второго — пароли. В нашем случае это могут быть случайные строки, но ради эксперимента можете добавить имя и пароль существующего пользователя.

В качестве ответа пришлите события, которые попали в логи Suricata и Fail2Ban, прокомментируйте результат.

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/007.png)

Suricata показывает постоянное сканирование ssh с классификацией "Возможна утечка информации".  

![alt text](https://github.com/SergeiShulga/13_3/blob/main/img/006.png)

Лог-файл Fail2ban также показывает попытку подключения по ssh, атакующая машина была заблокирована. Подбор логина и пароля закончился ошибкой.
